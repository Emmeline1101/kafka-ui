<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AccessContext.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">kafka-ui-api</a> &gt; <a href="index.source.html" class="el_package">com.provectus.kafka.ui.model.rbac</a> &gt; <span class="el_source">AccessContext.java</span></div><h1>AccessContext.java</h1><pre class="source lang-java linenums">package com.provectus.kafka.ui.model.rbac;

import com.provectus.kafka.ui.model.rbac.permission.AclAction;
import com.provectus.kafka.ui.model.rbac.permission.ApplicationConfigAction;
import com.provectus.kafka.ui.model.rbac.permission.AuditAction;
import com.provectus.kafka.ui.model.rbac.permission.ClusterConfigAction;
import com.provectus.kafka.ui.model.rbac.permission.ConnectAction;
import com.provectus.kafka.ui.model.rbac.permission.ConsumerGroupAction;
import com.provectus.kafka.ui.model.rbac.permission.KsqlAction;
import com.provectus.kafka.ui.model.rbac.permission.SchemaAction;
import com.provectus.kafka.ui.model.rbac.permission.TopicAction;
import java.util.Collection;
import java.util.Collections;
import java.util.List;
import java.util.Map;
import lombok.Value;
import org.springframework.util.Assert;

<span class="pc bnc" id="L19" title="All 140 branches missed.">@Value</span>
public class AccessContext {

<span class="fc" id="L22">  Collection&lt;ApplicationConfigAction&gt; applicationConfigActions;</span>

<span class="fc" id="L24">  String cluster;</span>
<span class="fc" id="L25">  Collection&lt;ClusterConfigAction&gt; clusterConfigActions;</span>

<span class="fc" id="L27">  String topic;</span>
<span class="fc" id="L28">  Collection&lt;TopicAction&gt; topicActions;</span>

<span class="fc" id="L30">  String consumerGroup;</span>
<span class="fc" id="L31">  Collection&lt;ConsumerGroupAction&gt; consumerGroupActions;</span>

<span class="fc" id="L33">  String connect;</span>
<span class="fc" id="L34">  Collection&lt;ConnectAction&gt; connectActions;</span>

<span class="fc" id="L36">  String connector;</span>

<span class="fc" id="L38">  String schema;</span>
<span class="fc" id="L39">  Collection&lt;SchemaAction&gt; schemaActions;</span>

<span class="fc" id="L41">  Collection&lt;KsqlAction&gt; ksqlActions;</span>

<span class="fc" id="L43">  Collection&lt;AclAction&gt; aclActions;</span>

<span class="fc" id="L45">  Collection&lt;AuditAction&gt; auditAction;</span>

<span class="fc" id="L47">  String operationName;</span>
<span class="fc" id="L48">  Object operationParams;</span>

  public static AccessContextBuilder builder() {
<span class="fc" id="L51">    return new AccessContextBuilder();</span>
  }

  public static final class AccessContextBuilder {
    private static final String ACTIONS_NOT_PRESENT = &quot;actions not present&quot;;

<span class="fc" id="L57">    private Collection&lt;ApplicationConfigAction&gt; applicationConfigActions = Collections.emptySet();</span>
    private String cluster;
<span class="fc" id="L59">    private Collection&lt;ClusterConfigAction&gt; clusterConfigActions = Collections.emptySet();</span>
    private String topic;
<span class="fc" id="L61">    private Collection&lt;TopicAction&gt; topicActions = Collections.emptySet();</span>
    private String consumerGroup;
<span class="fc" id="L63">    private Collection&lt;ConsumerGroupAction&gt; consumerGroupActions = Collections.emptySet();</span>
    private String connect;
<span class="fc" id="L65">    private Collection&lt;ConnectAction&gt; connectActions = Collections.emptySet();</span>
    private String connector;
    private String schema;
<span class="fc" id="L68">    private Collection&lt;SchemaAction&gt; schemaActions = Collections.emptySet();</span>
<span class="fc" id="L69">    private Collection&lt;KsqlAction&gt; ksqlActions = Collections.emptySet();</span>
<span class="fc" id="L70">    private Collection&lt;AclAction&gt; aclActions = Collections.emptySet();</span>
<span class="fc" id="L71">    private Collection&lt;AuditAction&gt; auditActions = Collections.emptySet();</span>

    private String operationName;
    private Object operationParams;

<span class="fc" id="L76">    private AccessContextBuilder() {</span>
<span class="fc" id="L77">    }</span>

    public AccessContextBuilder applicationConfigActions(ApplicationConfigAction... actions) {
<span class="pc bpc" id="L80" title="1 of 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="fc" id="L81">      this.applicationConfigActions = List.of(actions);</span>
<span class="fc" id="L82">      return this;</span>
    }

    public AccessContextBuilder cluster(String cluster) {
<span class="fc" id="L86">      this.cluster = cluster;</span>
<span class="fc" id="L87">      return this;</span>
    }

    public AccessContextBuilder clusterConfigActions(ClusterConfigAction... actions) {
<span class="pc bpc" id="L91" title="1 of 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="fc" id="L92">      this.clusterConfigActions = List.of(actions);</span>
<span class="fc" id="L93">      return this;</span>
    }

    public AccessContextBuilder topic(String topic) {
<span class="fc" id="L97">      this.topic = topic;</span>
<span class="fc" id="L98">      return this;</span>
    }

    public AccessContextBuilder topicActions(TopicAction... actions) {
<span class="pc bpc" id="L102" title="1 of 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="fc" id="L103">      this.topicActions = List.of(actions);</span>
<span class="fc" id="L104">      return this;</span>
    }

    public AccessContextBuilder consumerGroup(String consumerGroup) {
<span class="fc" id="L108">      this.consumerGroup = consumerGroup;</span>
<span class="fc" id="L109">      return this;</span>
    }

    public AccessContextBuilder consumerGroupActions(ConsumerGroupAction... actions) {
<span class="pc bpc" id="L113" title="1 of 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="fc" id="L114">      this.consumerGroupActions = List.of(actions);</span>
<span class="fc" id="L115">      return this;</span>
    }

    public AccessContextBuilder connect(String connect) {
<span class="fc" id="L119">      this.connect = connect;</span>
<span class="fc" id="L120">      return this;</span>
    }

    public AccessContextBuilder connectActions(ConnectAction... actions) {
<span class="pc bpc" id="L124" title="1 of 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="fc" id="L125">      this.connectActions = List.of(actions);</span>
<span class="fc" id="L126">      return this;</span>
    }

    public AccessContextBuilder connector(String connector) {
<span class="fc" id="L130">      this.connector = connector;</span>
<span class="fc" id="L131">      return this;</span>
    }

    public AccessContextBuilder schema(String schema) {
<span class="fc" id="L135">      this.schema = schema;</span>
<span class="fc" id="L136">      return this;</span>
    }

    public AccessContextBuilder schemaActions(SchemaAction... actions) {
<span class="pc bpc" id="L140" title="1 of 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="fc" id="L141">      this.schemaActions = List.of(actions);</span>
<span class="fc" id="L142">      return this;</span>
    }

    public AccessContextBuilder ksqlActions(KsqlAction... actions) {
<span class="nc bnc" id="L146" title="All 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="nc" id="L147">      this.ksqlActions = List.of(actions);</span>
<span class="nc" id="L148">      return this;</span>
    }

    public AccessContextBuilder aclActions(AclAction... actions) {
<span class="pc bpc" id="L152" title="1 of 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="fc" id="L153">      this.aclActions = List.of(actions);</span>
<span class="fc" id="L154">      return this;</span>
    }

    public AccessContextBuilder auditActions(AuditAction... actions) {
<span class="nc bnc" id="L158" title="All 2 branches missed.">      Assert.isTrue(actions.length &gt; 0, ACTIONS_NOT_PRESENT);</span>
<span class="nc" id="L159">      this.auditActions = List.of(actions);</span>
<span class="nc" id="L160">      return this;</span>
    }

    public AccessContextBuilder operationName(String operationName) {
<span class="fc" id="L164">      this.operationName = operationName;</span>
<span class="fc" id="L165">      return this;</span>
    }

    public AccessContextBuilder operationParams(Object operationParams) {
<span class="fc" id="L169">      this.operationParams = operationParams;</span>
<span class="fc" id="L170">      return this;</span>
    }

    public AccessContextBuilder operationParams(Map&lt;String, Object&gt; paramsMap) {
<span class="fc" id="L174">      this.operationParams = paramsMap;</span>
<span class="fc" id="L175">      return this;</span>
    }

    public AccessContext build() {
<span class="fc" id="L179">      return new AccessContext(</span>
          applicationConfigActions,
          cluster, clusterConfigActions,
          topic, topicActions,
          consumerGroup, consumerGroupActions,
          connect, connectActions,
          connector,
          schema, schemaActions,
          ksqlActions, aclActions, auditActions,
          operationName, operationParams);
    }
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>